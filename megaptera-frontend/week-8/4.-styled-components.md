# 4. styled-components







## Styled Components



기존 DOM을 만드는 방식인 css, scss 파일을 밖에 두고, tag, id, class 이름으로 가져와 쓰지않고 동일한 컴포넌트에서 컴포넌트 이름을 쓰듯 스타일을 지정하는 것을 **styled-components**라고 한다.

컴포넌트 내부에 style을 작성하기 때문에 css가 전역으로 중첩되지 않는 장점이 있다.

### Styled components 만들기

만들고자 하는 컴포넌트의 render 함수 밖에서 작성한다.

```jsx
function Example() {
    return (
        <componentName>
            <input type="text" />
        </componentName>
    )
}

const componentName = styled.tagName`
    font-size: 13px;
    color: red;
    ...
`;
```

### 스타일에 props 적용하기

* styled-components를 사용하는 장점 중 하나가 변수에 의해 스타일을 바꿀 수 있다는 점이다.
* styled-components는 내부적으로 props를 받을 수 있고, 그 props에 따라 스타일을 변경할 수 있다.

```jsx
function Example() {
    const [name, setName] = useState("");
    
    return (
        <componentName active={name.length}>
            <input type="text" />
        </componentName>
    )
}

const componentName = styled.tagName`
    background: ${({ active }) => {
        if (active) {
            return "yellow";
        }
        return "purple";    
    }};
    font-size: 13px;
    color: red;
    ...
`;
```

* name 이라는 status 상태값에 따라 componentName에 props로 내려준 active 값이 true/false로 바뀌게 된다.

### 스타일 상속

Styled Component 로 만들어진 컴포넌트들은 스타일 상속이 가능하다.

```jsx
const MarginContainer = styled.div`
    margin: 10px;
`;

const MergedContainer = styled(MarginContainer)`
    padding: 10px;
`;

<MergedContainer>Margin 10px을 상속받은 컨테이너</MergedContainer>
```

### Mixin 사용하기

Mixin을 사용하여 중복되는 스타일을 줄이고, 코드를 줄일 수 있다.

```jsx
// Container/Section 모두 Margin값이 필요한 경우

import styled, { css }. from "styled-components";

const margin = css`
    ${({ margin }) => margin && `margin: ${margin};`}
`;

const MixinMarginCotnainer = styled.div`
    ${margin}
`;

const MixinMarginSEction = styled.div`
    ${margin}
`;

<MixinMArginContainer margin="10px">
    Mixin을 사용하여 margin을 정의한 Container
</MixinMArginContainer>

<MixinMarginSection margin="10px">
    Mixin을 사용하여 margin을 정의한 Section
</MixinMarginSection>
```

### createGlobalStyle

전역 스타일을 적용할 수 있고, reset css 를 작성할 때 유용하다.

```jsx
import styled, { createGlobalStyle } from "styled-components";

const ResetStyle = createGlobalStyle`
    body {
        margin: 0;
        padding: 0;
    }
`;

<ResetStyle />;
```

### 내부에 속한 특정 컴포넌트 스타일

Styled-component 내부의 특정 컴포넌트를 명시하여 스타일을 추가할 수 있다.

```jsx
const InnerContainer = styled.div``;

const OutterContainer = styled.div`
    ${InnerContainer} {
        margin: 10px;
    }
`;

<OutterContainer>
    <InnerContainer>
        OutterContainer에 정의한 margin을 가진 InnerContainer
    </InnerContainer>
</OutterContainer>
```

### TypeScript 환경에서의 Styled-Component 사용

style prop을 정의하면 해당 prop의 type을 정의해줘야 사용할 수 있다.

```tsx
// margin은 없을 수도 있기 때문에 필수 값으로 주면 안된다.
const Container = styled.div<{ margin?: string }>`
    ${({ margin }) => margin && `margin: ${margin};`}
`;

// 불가능한 방식
const Container = styled.div`
    ${({ margin }: { margin?: string }) => margin && `margin: ${margin}; `}
    ${({ padding }: { padding?: string }) => padding && `padding: ${padding};`}
    
```



## 더 편리하게 Styled-Components 사용하기

Babel plugin, @swc/plugin-styled-components, vscode-styled-components(vs extension)



